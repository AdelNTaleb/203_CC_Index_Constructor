<!DOCTYPE html>
<html>
<head>


    <link rel="shortcut icon" href="../static/image/leonteq_favicon.ico">
    <title>Leonteq Creator Pro</title>
    <meta charset="utf-8" />
    <title>Leonteq - Msc 203 Index Generator</title>
    <script src="../static/js/tabcontent.js" type="text/javascript"></script>
    
    <link rel="stylesheet" type="text/css" href="../static/css/stylesheet_pro.css">
    <link rel="stylesheet" href="../static/js/docsupport/style.css">
    <link rel="stylesheet" href="../static/js/docsupport/prism.css">
    <link rel="stylesheet" href="../static/css/chosen.css">
    <script type="text/javascript" src="../static/js/jquery1.9.1.js"></script>
    <script src="../static/js/highstock.js"></script>
    <script src="../static/js/sly.min.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="../static/js/highcharts-3d.js"></script>
    <link rel="stylesheet" type="text/css" href="../static/css/select2.css">
    <script src="../static/js/select2.min.js"></script>
    <script type="text/javascript" src="http://malsup.github.com/jquery.cycle.all.js"></script>
    <script type="text/javascript">
//<![CDATA[
$(document).ready(function() {
    var my_data_line = {{ data_graph_line|safe }};
    var my_data_line_2 ={{ benchmark|safe }};
    var my_data_line_3 ={{ back_tested_df_return|safe }};
    var my_data_line_4 ={{ benchmark_return|safe }};
    var my_data_line_rf ={{ rf_graph_line|safe }};
    var my_data_line_vol ={{ roll_vol_df_js|safe }};
    var my_data_line_dil ={{ dilution_df_js|safe }};
    $(function() {
       // Create the chart
       window.chart = new Highcharts.StockChart({
         plotOptions: {
            series: {
                lineWidth: 1.5,
                states: {
                    hover: {
                        enabled: true,
                        lineWidth: 1.5
                    }
                }
            }
        },
        credits: {
            enabled:false
        },
        chart : {
            backgroundColor: null,
            plotBackgroundColor: '#fcfaf5',
            renderTo : 'chart_index'
        },
        navigator: {
            maskFill: 'rgba(251, 239, 168, 0.60)',
            series: {
                color: '#51555f',
                
            }
        },
        legend: {
            align: 'center',
            
        },
        rangeSelector : {
                 buttonTheme: { // styles for the buttons
                    fill: '#f4f4f4',
                    stroke: 'none',
                    'stroke-width': 0,
                    style: {
                        color: '#58535c',
                        fontWeight: 'bold'
                    },
                    states: {
                        hover: {
                        },
                        select: {
                            fill: '#fbefa8',
                            style: {
                                color: '#58535c'
                            }
                        }
                    // disabled: { ... }
                }
            },
            selected : 5
        },
        colors: ['#f0a800','black','#757b8a'],
        title : {
         text : '{{name | safe}} vs {{underlying | safe}} ',
         style:{color: "#51555f"},
     },
     series : [{
        name:"{{name | safe}} (Buy/Hold)",
        data: my_data_line,
    },{name:"Interest Index (Buy/Hold)",
    data: my_data_line_rf,
    dashStyle: 'longdash'
},{
    name:"Benchmark (Buy/Hold)",
    data: my_data_line_2
}],
tooltip: {
    pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',
    valueDecimals: 5
},
})
   })
    
    $(function() {
       // Create the chart
       window.chart = new Highcharts.StockChart({
         plotOptions: {
            series: {
                lineWidth: 1.5,
                states: {
                    hover: {
                        enabled: true,
                        lineWidth: 1.5
                    }
                }
            }
        },
        credits: {
            enabled:false
        },
        chart : {
            backgroundColor: null,
            plotBackgroundColor: '#fcfaf5',
            renderTo : 'chart_vol'
        },
        navigator: {
            maskFill: 'rgba(251, 239, 168, 0.60)',
            series: {
                color: '#51555f',
                
            }
        },
        legend: {
            align: 'center',
            
        },
        rangeSelector : {
                 buttonTheme: { // styles for the buttons
                    fill: '#f4f4f4',
                    stroke: 'none',
                    'stroke-width': 0,
                    style: {
                        color: '#58535c',
                        fontWeight: 'bold'
                    },
                    states: {
                        hover: {
                        },
                        select: {
                            fill: '#fbefa8',
                            style: {
                                color: '#58535c'
                            }
                        }
                    // disabled: { ... }
                }
            },
            selected : 5
        },
        colors: ['#757b8a','#368b99'],
        title : {
         text : '{{name | safe}}\'s rolling 20 days volatility',
         style:{color: "#51555f"},
     },
     series : [{
        name:"{{name | safe}}",
        data: my_data_line_vol,
    },{
        name:"Dilution",
        data:my_data_line_dil,
    }],
    tooltip: {
        pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',
        valueDecimals: 5
    },
})
   })
    $(function() {
       // Create the chart
       window.chart = new Highcharts.StockChart({
         plotOptions: {
            series: {
                lineWidth: 1.5,
                states: {
                    hover: {
                        enabled: true,
                        lineWidth: 1.5
                    }
                }
            }
        },
        credits: {
            enabled:false
        },
        chart : {
            backgroundColor: null,
            plotBackgroundColor: '#fcfaf5',
            renderTo : 'chart_return'
        },
        navigator: {
            maskFill: 'rgba(251, 239, 168, 0.60)',
            series: {
                color: '#51555f',
                
            }
        },
        legend: {
            align: 'center',
            
        },
        rangeSelector : {
                 buttonTheme: { // styles for the buttons
                    fill: '#f4f4f4',
                    stroke: 'none',
                    'stroke-width': 0,
                    style: {
                        color: '#58535c',
                        fontWeight: 'bold'
                    },
                    states: {
                        hover: {
                        },
                        select: {
                            fill: '#fbefa8',
                            style: {
                                color: '#58535c'
                            }
                        }
                    // disabled: { ... }
                }
            },
            selected : 5
        },
        colors: ['#f0a800','#757b8a'],
        title : {
         text : '{{name | safe}}\'s returns vs {{underlying | safe}}\'s returns ',
         style:{color: "#51555f"},
     },
     series : [{
        name:"{{name | safe}}",
        data: my_data_line_3,
    },{
        name:"Benchmark",
        data: my_data_line_4
    }],
    tooltip: {
        pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',
        valueDecimals: 5
    },
})
   })
    $(function () {
        Highcharts.setOptions({
            colors: ['#eaa800','#767b8b','#dd6260']
        });
        $('#bar_chart').highcharts({
            exporting: {
             enabled: false
         },
         credits: {
            enabled:false
        },
        chart: {
            backgroundColor: null,
            plotBackgroundColor: '#fcfaf5',
            type: 'bar'
        },
        title: {
            enabled:false,
            text: '',
            style:{display: 'none'},
        },
        xAxis: {
            categories: {{ index_bins_js|safe }},
            crosshair: {
                color:"#fbefa8",
                enabled:true,
            }
        },
        yAxis: {
            min: 0,
            title: {
                text: 'Frequency'
            }
        },
        tooltip: {
            headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
            pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
            '<td style="padding:0"><b>{point.y:.1f} </b></td></tr>',
            footerFormat: '</table>',
            shared: true,
            useHTML: true
        },
        plotOptions: {
            spline: {
                lineWidth: 1,
                marker: {
                    enabled: false
                }
            },
            column: {
                pointPadding: 0.2,
                borderWidth: 0,
                states:{
                    hover:{
                        fill: "#fbefa8",
                    }
                    
                    
                }
            },
        },
        legend:{
            enabled: false,
            itemStyle: {
                color: 'white'}},
                series: [{
                    name: '{{name | safe}}',
                    data: {{ index_freq_js|safe }}
                }, {
                    name: '{{underlying | safe}}',
                    data: {{ ben_freq_js|safe }}
                },{
                    type: 'spline',
                    
                    data: {{ data_norm_freq_js|safe }},
                    name: 'Normal Distribution', 
                }]
            });
    });
    var my_data_pie = {{ data_graph_pie|safe }};
    $(function () {
        Highcharts.setOptions({
            colors: ['#ed9800', '#b22a48', '#368b99', '#47b88c', '#aac800', '#4a4647', '#676568', '#9a9899']
        });
        $('#container').highcharts({
            credits: {
                enabled:false
            },
            chart: {
                backgroundColor: null,
                type: 'pie',
                options3d: {
                    enabled: true,
                    alpha: 45
                }
            },
            title: {
                text: '{{name | safe}}\'s composition',
                style:{color: "#ffffff"},
            },
            legend:{
                itemStyle: {
                    color: 'white'}},
                    plotOptions: {
                        pie: {
                            borderColor: '#ffffff',
                            innerSize: 50,
                            depth: 45,
                            dataLabels: {enabled: false},
                            showInLegend:true},
                            style:{
                                color:(['#ed9800', '#b22a48', '#368b99', '#47b88c', '#aac800', '#4a4647', '#676568', '#9a9899']),
                            }
                        },
                        series: [{
                            name: 'Weight',
                            data: my_data_pie
                        }]
                    });
    });
});
//]]>
</script>

<script type="text/javascript">
    function loading()
    {
        var isValidForm = document.forms['formulaire'].checkValidity();
        if (isValidForm)
        {
            $("#loading").show();
        }
        else
        {
            return false;
        }
    }
// ]]>
</script>
<script type="text/javascript" src="../static/js/jquery-latest.js"></script>
<script type='text/javascript'>  
 var $jq = jQuery.noConflict();  
</script>
<script src="../static/js/tabcontent.js" type="text/javascript"></script>

<link rel="stylesheet" type="text/css" href="../static/css/stylesheet_pro.css">

<link type="text/css" rel="stylesheet" href="../static/css/layout-default-latest.css" />

<style type="text/css">
    p {
        font-size:      1em;
        margin:         1ex 0;
    }
    p.buttons {
        text-align:     center;
        line-height:    2.5em;
    }
    button {
        line-height:    normal;
    }
    .hidden {
        display:        none;
    }
</style>

<script type="text/javascript" src="../static/js/jquery-ui-latest.js"></script>
<script type="text/javascript" src="../static/js/jquery.layout-1.3.0.rc30.80.js"></script>
<script type="text/javascript" src="../static/js/debug.js"></script>

</head>
<body id="main_body" onload="HideLoadingDiv()">
   <div id="background2">
    <ul class="tabs" data-persist="true">
        <li ><a href="javascript:void(0);" class="side_btn show">Index Creator</a></li>
        <li><a href="#view2">History</a></li>
        <li><a href="#view3">Download</a></li>
        <li><a href="/">Go to main menu</a></li>
    </ul>
</div>

<div class="panel">
    <div id="background3">
        <div id="loading" style="width: 100%;height: 100%;z-index: 1;background-color: rgba(105,105,105,0.5);position: absolute;border: solid 1px rgba(105,105,105,0.5);margin-top: -1px;margin-left: -1px"><center>
            <p  style="margin-top: 210px;font-size: 12px;font-family: Arial, Helvetica, sans-serif;width: 100px;color:#fbfbfb">Creating Index please wait...</p>

            <img src="../static/image/ajax-loader-grey.gif" >
        </center>

    </div>
    <img src="../static/image/logo_header.png">

    <form id="selection_table" name="formulaire" class ="table"> 
        <div id="generator_input">
            <div class="row">
                <p id="strategy" class="cell">Parent Index:</p>
                <script type="text/javascript">
                    $(document).ready(function(){
                        $('#drop_universe').select2({
                            placeholder: 'Please Choose',
                            closeOnSelect: true,
                        })
                    });
                </script>
                <select  style="width:230px;"  name="index" required id="drop_universe">
                    <option value=""></option>
                    <optgroup label="America">
                      <option value="S&P100" >S&P 100</option>
                  </optgroup>
                  <optgroup label="Asia">
                      <option value="NKY225">Nikkei 225</option>

                      <optgroup label="Europe">
                          <option value="SX5E">EuroStoxx 50</option>
                      </select>


                      <div id='daily_liquid' style='display: none;margin-left: 0px;'>
                        <p id="strategy">Min liquidity:</p>
                        <input  class="momentum_input" name="liquidity"  placeholder="daily volume"  type="number" min="" step="1" value="1000" required/>
                    </div>
                    <script type="text/javascript">
                        $(document).ready(function(){
                            $("#drop_universe").change(function(){
                                $(this).find("option:selected").each(function(){
                                    if($(this).attr("value")=="S&P100"){
                                        $("#daily_liquid").show();
                                    }
                                    else if($(this).attr("value")=="NKY225"){
                                      $("#daily_liquid").show();
                                  }

                                  else if($(this).attr("value")=="SX5E"){
                                    $("#daily_liquid").show();
                                }
                                else{
                                    $("#daily_liquid").hide();
                                }
                            });
                            }).change();
                        });
                    </script>
                </div>
                <div class="row">
                    <p id="strategy" class="cell">Strategy:</p>

                    <script type="text/javascript">
                        $(document).ready(function(){
                            $('#drop1').select2({
                                placeholder: 'Please Choose',
                                closeOnSelect: true,
                            })
                        });
                    </script>

                    <select  style="width:230px;"  name="strategy" required id="drop1">
                        <option value=""></option>
                        <optgroup label="Momentum">
                          <option value="momentum_long_only" >Long Only Momentum</option>
                          <option value="momentum_long_short">Long/Short Momentum</option>

                      </optgroup>
                      <optgroup label="Alpha">
                              <option value="alpha">Long Only Alpha</option>
                              <option value="ls_alpha">Long/Short Alpha</option>
                          </optgroup>
                      <optgroup label="Beta">
                      <option value="lo_beta">Long Only Beta</option>
                      <option value="ls_beta">Long/Short Beta</option>
                      <option value="lo_reverse_beta">Long Only Reverse Beta</option>
                          <option value="reverse_beta">Long/Short Reverse Beta</option>
                          <option value="reverse_beta_neutral">Long/Short Reverse Beta Neutral</option>
</optgroup>
                          <optgroup label="Multi Factor">
                              <option value="multi_fact">Multi-factor strategy</option>

                          </optgroup>
                          <optgroup label="Sharpe Ratio">
                              <option value="sharpe">Long Only Sharpe Ratio</option>
                              <option value="ls_sharpe">Long/Short Sharpe Ratio</option>
                          </optgroup>

                      
                      
                  </select>
                  <script type="text/javascript">
                    $(document).ready(function(){
                        $("#drop1").change(function(){
                            $(this).find("option:selected").each(function(){
                                if($(this).attr("value")=="momentum_long_only"){
                                    $(".input").not(".momentum").hide();
                                    $("#constrained").show();
                                    $("#input1").show();
                                    $("#input5").hide();
                                }
                                else if($(this).attr("value")=="lo_reverse_beta"){
                                    $(".input").not(".reverse_beta").hide();
                                    $("#constrained").show();
                                    $("#input5").hide();
                                }
                                else if($(this).attr("value")=="alpha"){
                                    $(".input").not(".reverse_beta").hide();
                                    $("#constrained").show();
                                    $("#input5").hide();
                                }
                                else if($(this).attr("value")=="ls_alpha"){
                                    $(".input").not(".reverse_beta").hide();
                                    $("#constrained").show();
                                    $("#input5").hide();
                                }
                                else if($(this).attr("value")=="beta"){
                                    $(".input").not(".reverse_beta").hide();
                                    $("#constrained").show();
                                    $("#input5").hide();
                                }
                                else if($(this).attr("value")=="ls_beta"){
                                    $(".input").not(".reverse_beta").hide();
                                    $("#constrained").show();
                                    $("#input5").hide();
                                }
                                else if($(this).attr("value")=="sharpe"){
                                    $(".input").not(".reverse_beta").hide();
                                    $("#constrained").show();
                                    $("#input5").hide();
                                }
                                else if($(this).attr("value")=="ls_sharpe"){
                                    $(".input").not(".reverse_beta").hide();
                                    $("#constrained").show();
                                    $("#input5").hide();
                                }
                                else if($(this).attr("value")=="momentum_long_short"){
                                    $(".input").not(".momentum").hide();
                                    $("#constrained").show();
                                    $("#input1").show();
                                    $("#input5").hide();
                                }
                                
                                else if($(this).attr("value")=="reverse_beta"){
                                    $(".input").not(".reverse_beta").hide();
                                    $("#constrained").hide();
                                    $("#input5").hide();
                                }
                                else if($(this).attr("value")=="reverse_beta_neutral"){
                                    $(".input").not(".reverse_beta").hide();
                                    $("#constrained").hide();
                                    $("#input5").hide();
                                }
                                else if($(this).attr("value")=="multi_fact"){                                
                                    $(".input").not(".multi_fact").hide();
                                    $("#input1").hide();
                                    $("#constrained").show();
                                    $("#input5").show();
                                }
                                else{
                                    $("#input1").hide();
                                    $("#input5").hide();
                                }
                            });
                        }).change();
                    });
                </script>
                <div id='input5'class="cell" style="margin-left: -5px;">

                    <p class="form_title">Please select the factors:</p>

                    <script type="text/javascript">
                        $(document).ready(function(){
                            $('#drop5').select2({
                                closeOnSelect: true,
                            })
                        });
                    </script>
                    <select  style="width:230px;"  name="strategy_combination" id="drop5" multiple="multiple">
                        <option value=""></option>
                        <optgroup label="Momentum">
                        <option value="Momentum" >Momentum 3-6</option>
                        </optgroup>
                        <optgroup label="Alpha">
                        <option value="alpha">Alpha</option>
                        </optgroup>
                        <optgroup label="Beta">
                        <option value="Beta">Beta</option>
                        <option value="Reverse_Beta">Reverse Beta</option>
                        </optgroup>
                        <optgroup label="Sharpe">
                        <option value="Sharpe">Sharpe Ratio</option>
                        </optgroup>
                    </select>
                    
                </div>
                

                <div id='input1'style='display: none;margin-left: 0px;'class="input momentum">
                    <div>
                        <p class="form_title">Month Number 1:</p>
                        <input class="momentum_input"  name="NbMonth1"  placeholder="Month Number 1"  type="number" min="1" step="1" value="3" />                    
                    </div>
                    <div>
                        <p class="form_title">Month Number 2:</p>
                        <input  class="momentum_input" name="NbMonth2"  placeholder="Month Number 2"  type="number" min="2" step="1"value="6"/>
                    </div>
                </div>
            </div>


            <div class="row" id="constrained">
                <div class="cell">
                    <p id="select2">Constraints:</p>
                </div>
                <script type="text/javascript">
                    $(document).ready(function(){
                        $('#drop2').select2({
                            placeholder: 'Please Choose',
                            closeOnSelect: true,
                            minimumResultsForSearch: -1
                        })
                    });
                </script>

                <select  style="width:230px;"  name="method" id="drop2" required>
                    <option value=""></option>
                    <option selected value="">Please choose</option> 
                    <option value="Constrained">Yes</option>
                    <option value="Ranking">No</option>
                </select>

                <script type="text/javascript">
                    $(document).ready(function(){
                        $("#drop2").change(function(){
                            $(this).find("option:selected").each(function(){
                                if($(this).attr("value")=="Constrained"){
                                    $("#input2").show();
                                }
                                else{
                                    $("#input2").hide();
                                }
                            });
                        }).change();
                    });
                </script>

                <div id='input2'class="cell" style="margin-left: -5px;">
                    <p class="form_title">Type of constraint:</p>
                    <select  style="width:230px;"  name="method_type" id="drop_cons" required>
                        <option value=""></option>
                        <option selected value="">Please choose</option> 
                        <option value="Beta_C">Beta</option>
                        <option value="Vol_C">Volatility</option>
                    </select>

                    <script type="text/javascript">
                        $(document).ready(function(){
                            $('#drop_cons').select2({
                                placeholder: 'Please Choose',
                                closeOnSelect: true,
                                minimumResultsForSearch: -1
                            })
                        });
                    </script>
                    <div id='input_cons_vol'class="cell">
                        <div style="margin-left: -10px;">
                            <p class="form_title">Volatility Cap (in %):</p>
                            <input class="other_input_2"  name="vol_cap"  placeholder="Volatility Cap (in %)"  type="number" min="0" step="0.1" value="10" />
                        </div>

                    </div>
                    <div id='input_cons_beta'class="cell">
                        <div style="margin-left: -10px;">
                            <p class="form_title">Min Beta:</p>
                            <input class="other_input_2"  name="min_beta"  placeholder="Min Beta"  type="number" min="0" step="0.1" value="0" />
                        </div>
                        <div style="margin-left: -10px;">
                            <p class="form_title">Max Beta:</p>
                            <input  class="other_input_2" name="max_beta"  placeholder="Max Beta"  type="number" min="0" step="0.1" value="2"/>
                        </div>
                    </div>

                    <script type="text/javascript">
                        $(document).ready(function(){
                            $("#drop_cons").change(function(){
                                $(this).find("option:selected").each(function(){
                                    if($(this).attr("value")=="Vol_C"){
                                        $("#input_cons_vol").show();
                                        $("#input_cons_beta").hide();
                                    }
                                    else if ($(this).attr("value")=="Beta_C"){
                                        $("#input_cons_vol").hide();
                                        $("#input_cons_beta").show();
                                    }
                                    else{
                                        $("#input_cons_vol").hide();
                                        $("#input_cons_beta").hide();
                                    }
                                });
                            }).change();
                        });
                    </script>
                    <div>
                        <p class="form_title">Max Weight (in %):</p>
                        <input  class="other_input_2" name="max_weight"  placeholder="Max Weight (in %)"  type="number" min="0" step="0.1" value="20"/>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="cell">
                    <p id="select2">Volatility Dilution:</p>
                </div>
                <script type="text/javascript">
                    $(document).ready(function(){
                        $('#drop3').select2({
                            placeholder: 'Please Choose',
                            closeOnSelect: true,
                            minimumResultsForSearch: -1
                        })
                    });
                </script>
                <select class="selecto" name="vol_capped" id="drop3" required style="width:230px;"> 
                    <option value=""></option>
                    <option value="vol_cap_yes">Yes</option>
                    <option value="vol_cap_no">No</option>
                </select>
                <div id='input3'class="cell" style="margin-left: -5px;">
                    <div>
                        <p class="form_title">Volatility Window (in days):</p>
                        <input class="other_input"  name="vol_frame"  placeholder="Volatility Window (in days)"  type="number" min="1" step="1" value="20" />
                        <p class="form_title">Volatility Cap (in %):</p>
                        <input class="other_input"  name="vol_cap_daily"  placeholder="Volatility Cap (in %)"  type="number" min="5" step="0.1" value="10" />
                    </div>
                </div>

                <script type="text/javascript">
                    $(document).ready(function(){
                        $("#drop3").change(function(){
                            $(this).find("option:selected").each(function(){
                                if($(this).attr("value")=="vol_cap_yes"){
                                    $("#input3").show();
                                }
                                else{
                                    $("#input3").hide();
                                }
                            });
                        }).change();
                    });
                </script>


            </div>
            <div class="row">
            <script type="text/javascript">
                    $(document).ready(function(){
                        $('#drop7').select2({
                            placeholder: 'Please Choose',
                            closeOnSelect: true,
                            minimumResultsForSearch: -1
                        })
                    });
                </script>
             <p style="font-size: 12px;font-family: Arial, Helvetica, sans-serif;width: 100px;color:#58534d;"class="cell">Leverage :</p>
             <select class="selecto" name="leverage" id="drop7" required style="width:230px;"> 
                    <option value=""></option>
                    <option value="yes_leverage">Yes</option>
                    <option value="no_leverage">No</option>
                </select>
            
                    <div id='input7'>
                        <p class="form_title">Leverage Ratio:</p>
                        <input class="other_input"  name="leverage_value"  placeholder="Leverage Ratio (X)"  type="number" min="1" max="10" step="0.1" value="2" />
                    </div>
                

         </div>

                <script type="text/javascript">
                    $(document).ready(function(){
                        $("#drop7").change(function(){
                            $(this).find("option:selected").each(function(){
                                if($(this).attr("value")=="yes_leverage"){
                                    $("#input7").show();
                                }
                                else{
                                    $("#input7").hide();
                                }
                            });
                        }).change();
                    });
                </script>
            <div class="row">
             <p style="font-size: 12px;font-family: Arial, Helvetica, sans-serif;width: 100px;color:#58534d;"class="cell">Backtest Duration (Months):</p>
             <input  class="rc_input" name="backtest_len"  placeholder="Backtest Duration (Month)"  type="number" min="6" step="1" value="6" required/>



         </div>
         <div class="row">
             <p style="font-size: 12px;font-family: Arial, Helvetica, sans-serif;width: 100px;color:#58534d;"class="cell">Rebalancing Period (Days):</p>
             <input  class="rc_input" name="rebalance_len"  placeholder="Rebalancing Period (Day)"  type="number" min="5" step="1" value="20" required/>

         </div>
     </div>
     <div>
         <table style="margin-left: 38px">
             <tr>
                 <td>
                    <div name"generate_button" style="padding-top: 5px">
                     <input class="btn_generator" id="submit_btn" type="submit" value="Generate" style="text-align: right" onclick="loading();"/>
                 </div>
             </td>
             <td>
                 {% if back_tested_data|length > 0 %}
                 <div name"generate_button" style="padding-top: 5px">
                     <input class="btn_download" id="submit_btn" type="button" value="Download" style="text-align: right" onclick="location.href='/download';"/>
                 </div> 
                 {% endif %}
             </td>
         </tr>
     </table>
 </div>
</form> 
</div>
</div>

<!-- <a href="javascript:void(0);" class="slider-arrow show">&raquo;</a>-->
<div style='width:100%;top:50px;
left:0px;
position: absolute;

z-index:-2;"'>
{% if back_tested_data|length > 0 %}
<div id="chart_index" style="height: 400px;width: 99%;"></div>
<fieldset>
    <div class="wrap" id="test">
        <fieldset class="chart_volatility">
         <div id="test" class="equal_height">
            <div id="chart_vol" style="min-width: 500x;height: 400px;width:99%"></div>
        </div>

    </fieldset>
</div>
<div class="wrap">
    <fieldset class="chart_return">
        <div class="item-1" id="chart_return" style="min-width: 500x;height: 400px;width:99%">
        </fieldset>
    </div>
    <div class="wrap" id="test">
        <fieldset class="chart_volatility">

            <div id="bar_chart" style="width: 100%; height: 100%"></div>

        </fieldset>
    </div>
    <div class="wrap" id="test">
        <fieldset class="chart_volatility">
            <table style="width: 100%">
                <tr>
                    <td><div id="component_list" style="height: 400px;width: 100%">
                     <center>



                        {{current_data | safe}}

                    </center>
                </div></td>
                <td><div class="item-2" style="height: 400px;width: 100%">

                    {{description_df | safe}}

                </div></td>
            </tr>
        </table>



    </fieldset>
</div>



</fieldset>
{% else %}
<div class="altenative_content" style="height: 900px;width: 100%;position: relative;">
<div id="test" style="min-height: 100%;width: 100%; z-index: -2; position: relative;"><div class="center-div"></div></div>
</div>
<style type="text/css">
    @randomNum: `Math.ceil(Math.random() * 100)`; 
 .center-div
{
    background-color: #fcfaf5;
    box-shadow: 0 0 0 1px  #74767b, 0 0 0 1px  #81622d inset;
  border:1px solid #3a3d44;
    border-radius: 4px;
     margin: 0 auto;
     width: 60%;
     height: 200px;
     z-index: 10; 
     position: relative;
}


@-webkit-keyframes mymove {
    0%   {opacity: 1;}
    100%   {opacity: 0;}

}
@keyframes mymove { 
    0%   {opacity: 1;}
    100%   {opacity: 0;}
}

.box{
    position: absolute; 
    margin: auto; 
     background-image: url(../static/image/logo3.png);
     background-repeat:no-repeat;
     background-size: contain;
    -webkit-animation: mymove 20s ; 
    animation: mymove 20s ;
}


.abox{
    position: absolute;
    left: 50%;
    right:50%;
    margin: auto;
    width:100px;
    height: 100px;
    background-image: url(../static/image/logo3.png);
    background-repeat:no-repeat;
}
</style>
<script type="text/javascript">
    
    function addBox(){
        var newbox=$("<div class='box'></div>");
        $("#test").append(newbox); 

        var newboxSize=Math.floor((Math.random() * 200) + 1);
        var scrX=newbox.parent().width(); 
        var scrY=newbox.parent().height();
        var newboxX=Math.floor(( Math.random() * scrX)-(newboxSize/2) );
        var newboxY=Math.floor(( Math.random() * scrY)-(newboxSize/2) );

        newbox.css({
            "left":newboxX +"px",
            "top":newboxY +"px",
            "width":newboxSize +"px",
            "height":newboxSize +"px",
            "background-color":get_random_color()
        }); 

        newbox.bind('webkitAnimationEnd oAnimationend msAnimationEnd animationend',   function() {
        $(this).remove();
        //$("#btn").click();
        });
    }

    function get_random_color() {
        var letters = 'ABCDE'.split('');
        var color = '#';
        for (var i=0; i<3; i++ ) {
            color += 'eee';
        }
        return color;
    }

    function randomLoop(){
      var rand =  Math.random() * 200;
      setTimeout(function() {
      addBox();
      randomLoop(); 
      }, rand);
    }
    randomLoop();

</script>

{% endif %}
</div>

<script type="text/javascript">
   $(function(){
    $('.side_btn').click(function(){
        if($(this).hasClass('show')){
            $( ".panel" ).animate({
              left: "+=403"
          }, 700, function() {
            // Animation complete.
        });
            $(this).removeClass('show').addClass('hide');
        }
        else {      
            $( ".panel" ).animate({
              left: "-=403"
          }, 700, function() {
            // Animation complete.
        });
            $(this).removeClass('hide').addClass('show');    
        }
    });

});

</script>
</body>
</html>